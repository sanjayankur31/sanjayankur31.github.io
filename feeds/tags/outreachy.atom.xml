<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>ankursinha.in/blog - Outreachy</title><link href="https://ankursinha.in/" rel="alternate"/><link href="https://ankursinha.in/feeds/tags/outreachy.atom.xml" rel="self"/><id>https://ankursinha.in/</id><updated>2024-05-20T11:47:32+01:00</updated><subtitle>neuroscience/fedora/musings</subtitle><entry><title>Week 20 update</title><link href="https://ankursinha.in/2024/05/20/week-20-update.html" rel="alternate"/><published>2024-05-20T11:47:32+01:00</published><updated>2024-05-20T11:47:32+01:00</updated><author><name>ankur</name></author><id>tag:ankursinha.in,2024-05-20:/2024/05/20/week-20-update.html</id><summary type="html">&lt;p class="first last"&gt;Weekly update for week #20.&lt;/p&gt;
</summary><content type="html">&lt;div class="section" id="neuroml-related"&gt;
&lt;h2&gt;NeuroML related&lt;/h2&gt;
&lt;div class="figure align-center"&gt;
&lt;img alt="NeuroML is a standard and software ecosystem for biophysically detailed neuronal modelling." class="text-center img-responsive pagination-centered" src="https://ankursinha.in/images/neuroml-logo.png" style="width: 40%;" /&gt;
&lt;p class="caption"&gt;&lt;a class="reference external" href="https://neuroml.org"&gt;NeuroML&lt;/a&gt; is a standard and software ecosystem for biophysically detailed neuronal modelling.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Work continues on &lt;a class="reference external" href="https://github.com/NeuroML/pyNeuroML"&gt;pyNeuroML&lt;/a&gt;.&lt;/p&gt;
&lt;div class="section" id="animations-and-saving-them"&gt;
&lt;h3&gt;Animations, and saving them&lt;/h3&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/NeuroML/pyNeuroML/pull/348"&gt;YBCS improved our plotting code to allow creation and saving of animations&lt;/a&gt;, using &lt;a class="reference external" href="https://matplotlib.org/stable/users/explain/animations/animations.html"&gt;Matplotlib&lt;/a&gt;. This is useful for analysis, and also for dissemination.&lt;/p&gt;
&lt;p&gt;So, for instance, one can generate this animation from our &lt;a class="reference external" href="https://docs.neuroml.org/Userdocs/SingleNeuronExample.html#"&gt;single izhikevich neuron documentation example&lt;/a&gt;:&lt;/p&gt;
&lt;div class="figure align-center"&gt;
&lt;img alt="An animated GIF showing the membrane potential of a regular spiking Izhikevich neuron." class="img-responsive" src="https://ankursinha.in/images/20240520-izhikevich-animation-loop.gif" style="width: 40%;" /&gt;
&lt;p class="caption"&gt;An animated GIF showing the membrane potential of a regular spiking Izhikevich neuron.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Here's an example script that reads in the data generated by our example and saves the animation in a GIF file:&lt;/p&gt;
&lt;pre class="code python literal-block"&gt;
&lt;span class="ch"&gt;#!/usr/bin/env python3&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pyneuroml.plot&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;generate_plot&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pyneuroml.runners&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;reload_saved_data&lt;/span&gt;&lt;span class="w"&gt;

&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;reload_saved_data&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;./LEMS_example-single-izhikevich2007cell-sim.xml&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="n"&gt;generate_plot&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'t'&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'IzhPop0[0]/v'&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt; &lt;span class="n"&gt;animate&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;              &lt;span class="n"&gt;save_figure_to&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;izhikevich.gif&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Membrane potential&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;
&lt;p&gt;Generating the animation doesn't take so much time, but saving it does.
From what I've managed to find (for example, on &lt;a class="reference external" href="https://github.com/matplotlib/matplotlib/issues/13561/"&gt;this ticket&lt;/a&gt;), saving of the animation relies on piping it to external tools (&amp;quot;animation writers&amp;quot;), and that bit seems to take time.
We use a &lt;a class="reference external" href="https://progressbar-2.readthedocs.io/en/latest/"&gt;progressbar&lt;/a&gt; to provide some feedback to the user, so they have some idea of how long to expect it to take.&lt;/p&gt;
&lt;pre class="code console literal-block"&gt;
&lt;span class="go"&gt;python test-animate.py
pyNeuroML &amp;gt;&amp;gt;&amp;gt; INFO - Generating plot: Membrane potential
pyNeuroML &amp;gt;&amp;gt;&amp;gt; INFO - Saving animation of 5000ms to izhikevich.gif using pillow
pyNeuroML &amp;gt;&amp;gt;&amp;gt; INFO - This could take a while..
10000 of 10000|#######################################################################################################################################|Elapsed Time: 0:03:29
pyNeuroML &amp;gt;&amp;gt;&amp;gt; INFO - Saved animation to izhikevich.gif
pyNeuroML &amp;gt;&amp;gt;&amp;gt; INFO - Closing plot&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="using-vispy-visualisations-in-jupyter-notebooks"&gt;
&lt;h3&gt;Using Vispy visualisations in Jupyter notebooks&lt;/h3&gt;
&lt;p&gt;&lt;a class="reference external" href="https://vispy.org"&gt;Vispy&lt;/a&gt; visualisations can also work in Jupyter notebooks using &lt;a class="reference external" href="https://github.com/vispy/jupyter_rfb"&gt;jupyter_rfb&lt;/a&gt;.
It'll be very good for us to make this work for our visualisations too, so that users can view their cells and networks in 3D in their notebooks.
I tinkered with it a bit but could not get jupyter_rfb to work for me.
I filed a &lt;a class="reference external" href="https://github.com/vispy/jupyter_rfb/issues/89"&gt;bug&lt;/a&gt; upstream, and it was quickly fixed.
I now need to continue playing with it to see what changes, if any, we need to make to our code to make our visualisations work.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="google-summer-of-code"&gt;
&lt;h3&gt;Google Summer of Code&lt;/h3&gt;
&lt;p&gt;We had our first meeting with our two GSoC interns.
It's still only the community bonding period, so they're just tinkering with the code and reading the documentation to get a feel for how things work.
They've both already been working on pull requests, so they're already ahead of time.&lt;/p&gt;
&lt;p&gt;It was really good to have a chat with them.
We talked about what they hope to get out of the internship and so on, so that we can tweak the tasks to ensure that the internship benefits them.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="model-standardization"&gt;
&lt;h3&gt;Model standardization&lt;/h3&gt;
&lt;p&gt;I continued to work on converting the Purkinje cell model from &lt;a class="reference external" href="https://www.cell.com/cell-reports/fulltext/S2211-1247(18)31088-X"&gt;Zang et al&lt;/a&gt;.
I'm still working on the biophysics.
There are a few ion channels where the dynamics are described in &lt;a class="reference external" href="https://docs.neuroml.org/Userdocs/Schemas/Channels.html#schema-gateks"&gt;kinetic state&lt;/a&gt; formalism that one has to convert manually.
Analysing these to verify that they've been converted correctly is hard too, because unlike ion channels that follow the standard Hodgkin-Huxley formalism, the gates in the Kinetic State ion channels don't have their steady state and decay time constants directly available.
So, we're going to have to simulate a passive cell with a single Kinetic State ion channel, both for the original NEURON implementation of the ion channel and for our NeuroML conversion, and then we'll compare the various generated biophysics (and iteratively tweak our conversion until they match).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="open-source-brain"&gt;
&lt;h2&gt;Open Source Brain&lt;/h2&gt;
&lt;p&gt;Open Source Brain (&lt;a class="reference external" href="https://www.opensourcebrain.org/"&gt;OSB&lt;/a&gt;) is a web platform for neuroscientists.
&lt;a class="reference external" href="https://v1.opensourcebrain.org"&gt;Version 1&lt;/a&gt; was focussed on the sharing and archival of biophysically detailed models, standardised in &lt;a class="reference external" href="https://neuroml.org"&gt;NeuroML&lt;/a&gt;.
There are a number of published models on the platform that one can visualise and study there already:&lt;/p&gt;
&lt;div class="figure align-center"&gt;
&lt;img alt="A screenshot of Open Source Brain version 1." class="text-center img-responsive pagination-centered" src="https://ankursinha.in/images/20240520-osbv1.png" style="width: 80%;" /&gt;
&lt;p class="caption"&gt;A screenshot of Open Source Brain version 1.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;The newer version, &lt;a class="reference external" href="https://v2.opensourcebrain.org"&gt;version 2&lt;/a&gt; takes it a step further.
Its goal is to be a cloud based integrated research environment where people can store their data and their code in &amp;quot;workspaces&amp;quot;, and work in the cloud, requesting as many resources as they need.
This means that people no longer have to set up their own computers/lab servers---the platform will provide the computing infrastructure and the required tools in a web browser.
OSBv2 also indexes a number of data sources to make it easier for researchers to find data and models, such as:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://www.dandiarchive.org"&gt;DANDI archive&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://modeldb.science"&gt;Model-DB&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="figure align-center"&gt;
&lt;img alt="A screenshot of Open Source Brain version 2." class="text-center img-responsive pagination-centered" src="https://ankursinha.in/images/20240520-osbv2.png" style="width: 80%;" /&gt;
&lt;p class="caption"&gt;A screenshot of Open Source Brain version 2.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;OSBv2 also integrates a number of web applications for users:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;NetPyNE-UI: an interface for the popular &lt;a class="reference external" href="https://netpyne.org"&gt;NetPyNE&lt;/a&gt; model building library&lt;/li&gt;
&lt;li&gt;NWB Explorer: an interface for visualising &lt;a class="reference external" href="https://nwb.org"&gt;Neurodata Without Borders (NWB)&lt;/a&gt; files&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://jupyter.org"&gt;Jupyter Lab&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We're working on integrating &lt;a class="reference external" href="https://biosimulations.org"&gt;biosimulations.org&lt;/a&gt; as another data source now.
This requires adding an adapter to the back end that understands the biosimulations.org API so that it can use it to pull information from there to index.
An initial version has already been implemented.
We now need to test it.&lt;/p&gt;
&lt;div class="section" id="osbv2-dev-environment"&gt;
&lt;h3&gt;OSBv2: dev environment&lt;/h3&gt;
&lt;p&gt;Since OSBv2 is cloud based (currently deployed on Google Cloud), it makes use of containers and &lt;a class="reference external" href="https://kubernetes.io/"&gt;Kubernetes&lt;/a&gt; (our software partners, &lt;a class="reference external" href="https://metacell.us"&gt;MetaCell&lt;/a&gt; manage our infrastructure and a majority of the development/maintenance of &lt;a class="reference external" href="https://www.opensourcebrain.org/"&gt;OSB&lt;/a&gt;).
The complete platform is also broken down into a number of services.
To test changes and develop, therefore, one has to run a local deployment.
We've documented the steps in our &lt;a class="reference external" href="https://github.com/OpenSourceBrain/OSBv2/blob/master/README.md"&gt;readme&lt;/a&gt;, and I've got &lt;a class="reference external" href="https://github.com/sanjayankur31/100_dotfiles/blob/main/bin/deploy-osbv2.sh"&gt;a script&lt;/a&gt; to automate the various steps.&lt;/p&gt;
&lt;p&gt;Of course, it's never that simple.
While my script had worked the last time I had tinkered with OSBv2, it didn't work last week and I spent hours trying to figure out why.
I need to continue with that this week too.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="software-working-group"&gt;
&lt;h2&gt;Software Working Group&lt;/h2&gt;
&lt;p&gt;The &lt;a class="reference external" href="https://ocns.github.io/SoftwareWG/index.html"&gt;Software Working Group&lt;/a&gt; is an open community working group about all things software.
It's shared by the &lt;a class="reference external" href="https://incf.org"&gt;International Neuroinformatics Co-ordinating Facility&lt;/a&gt; and the &lt;a class="reference external" href="https://www.cnsorg.org"&gt;Organization for Computational Neuroscience&lt;/a&gt;.
The idea is simply to have a community for exchange of ideas related to research/neuroscience software development.
The working group is based on GitHub, and open to anyone at all.&lt;/p&gt;
&lt;p&gt;Last week, we had &lt;a class="reference external" href="https://ocns.github.io/SoftwareWG/2024/05/07/wg-meeting-14-may-2024-spikeinterface-pierre-yger-.html"&gt;a session on SpikeInterface where Pierre Yger presented the tool to the community&lt;/a&gt;.
It was recorded, and the recordings should be on the &lt;a class="reference external" href="https://www.youtube.com/&amp;#64;IncfOrg_INCF"&gt;INCF YouTube channel&lt;/a&gt; soon.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="fedora"&gt;
&lt;h2&gt;Fedora&lt;/h2&gt;
&lt;p&gt;I worked on a few &lt;a class="reference external" href="https://packager-dashboard.fedoraproject.org/dashboard?groups=neuro-sig"&gt;Neuro SIG&lt;/a&gt; packages--updates, Fails to Build From Source (FTBFS) issues, and so on.
Not much to report in detail here.&lt;/p&gt;
&lt;/div&gt;
</content><category term="Life"/><category term="Computational Neuroscience"/><category term="Fedora"/><category term="NeuroML"/><category term="Open Source Brain"/><category term="GSoC"/><category term="Outreachy"/></entry></feed>